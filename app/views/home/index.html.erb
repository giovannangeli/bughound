<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Votre mentor QA augment√© par IA</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Navbar */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 0.75rem 0;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .navbar.scrolled {
            background: #ffffff !important;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            border-bottom: 1px solid rgba(0,0,0,0.05);
            padding: 0.75rem 0;
        }

        .navbar.scrolled .logo {
            color: #2d3748 !important;
        }

        .navbar.scrolled .nav-link {
            color: #6a7280 !important;
        }

        .navbar.scrolled .nav-link:hover {
            color: #2d3748 !important;
            background: rgba(102, 126, 234, 0.1) !important;
        }

        .navbar-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            align-items: center;
            gap: 2rem;
        }

        .nav-left {
            display: flex;
            justify-content: flex-start;
        }

        .nav-center {
            display: flex;
            gap: 2rem;
            align-items: center;
            justify-content: center;
        }

        .nav-right {
            display: flex;
            gap: 1.5rem;
            align-items: center;
            justify-content: flex-end;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.10rem;
            text-decoration: none;
            color: #000000;
            font-weight: 700;
            font-size: 1.2rem;
        }

        .logo-image {
            width: 28px;
            height: 28px;
            object-fit: contain;
        }

        .logo:hover {
            color: #BCCCDC;
            transition: color 0.3s ease;
        }

        .nav-link {
            color: #6a7280;
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            color: #2d3748;
            background: rgba(102, 126, 234, 0.1);
        }

        a[href*="new_user_session"].nav-link {
            color: #6a7280 !important;
            text-decoration: none;
            font-weight: 500;
            padding: 0.6rem 1.2rem !important;
            border-radius: 8px !important;
            background: white !important;
            border: 1px solid #e5e7eb !important;
            transition: all 0.2s ease !important;
        }

        a[href*="new_user_session"].nav-link:hover {
            color: #2d3748 !important;
            border: 1px solid #d1d5db !important;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
        }

        /* Mobile menu */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: #2d3748;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .mobile-nav-group {
            display: none;
        }

        /* Menu mobile dropdown */
        .mobile-menu {
            display: none;
            position: fixed;
            top: 60px;
            left: 0;
            right: 0;
            background: white;
            border-bottom: 1px solid #e5e7eb;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 999;
        }

        .mobile-menu-open {
            display: block !important;
        }

        .mobile-menu-links {
            padding: 1rem;
        }

        .mobile-menu-link {
            display: block;
            padding: 0.75rem 1rem;
            color: #6a7280;
            text-decoration: none;
            font-weight: 500;
            border-radius: 6px;
            transition: all 0.2s ease;
        }

        .mobile-menu-link:hover {
            background: rgba(102, 126, 234, 0.1);
            color: #2d3748;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: #ffffff;
            color: #2d3748;
            overflow-x: hidden;
        }

        /* Hero Section Animations - ONLY KEEPING SLIDE ANIMATIONS */
        @keyframes heroSlideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes heroSlideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        /* Hero Section Classes */
        .hero-glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        }
        
        .hero-content-animated {
            animation: heroSlideInLeft 1s ease-out;
        }
        
        .hero-visual-animated {
            animation: heroSlideInRight 1s ease-out;
        }
        
        .hero-btn-primary {
            transition: all 0.3s ease;
        }
        
        .hero-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }
        
        .hero-btn-secondary {
            transition: all 0.3s ease;
        }
        
        .hero-btn-secondary:hover {
            transform: translateY(-2px);
            background: rgba(102, 126, 234, 0.1);
        }

        /* Other CTA buttons (demo section) */
        .cta-primary {
            background: white;
            color: #667eea;
            padding: 1rem 2rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(255,255,255,0.2);
        }

        .cta-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(255,255,255,0.3);
        }

        /* Features Section */
        .features {
            background: white;
            padding: 5rem 2rem 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 3rem;
            color: #2d3748;
        }

        .features-header{
            max-width: 980px;
            margin: 0 0 4.5rem;
            text-align: left;
        }

        .features .section-title{
            text-align: left;
            margin-bottom: .75rem;
        }

        @media (max-width: 768px){
            .features-header{
                margin: 0 auto 2rem;
                text-align: center;
            }
            .features .section-title{
                text-align: center;
            }
        }

        .section-subtitle{
            color:#6a7280;
            font-size: clamp(1rem,1.8vw,1.125rem);
            line-height: 1.6;
            margin-top:.75rem;
        }

        .modes-scroller-wrapper{
            position: relative;
            margin-top: 1.5rem;
            padding: .25rem 2.5rem;
        }

        .ai-modes{
            display:grid;
            grid-auto-flow: column;
            gap:24px;
            overflow-x:auto;
            overflow-y:hidden;
            scrollbar-width: none;
            -ms-overflow-style: none;
            scroll-snap-type:x mandatory;
            scroll-behavior:smooth;
            padding:.5rem 0 1rem;
            -webkit-overflow-scrolling: touch;
        }

        .ai-modes::-webkit-scrollbar{
            display:none;
        }

        @media (min-width:1024px){
            .ai-modes{
                grid-auto-columns: calc((100% - 48px)/3);
            }
        }

        @media (min-width:640px) and (max-width:1023px){
            .ai-modes{
                grid-auto-columns: calc((100% - 24px)/2);
            }
        }

        @media (max-width:639px){
            .ai-modes{
                grid-auto-columns: 100%;
            }
        }

        .mode-card{
            scroll-snap-align: start;
            will-change: transform;
            transition: transform .25s ease, box-shadow .25s ease;
            padding: 2.25rem;
            min-height: 320px;
        }

        .features .mode-card {
            background: white;
            border-radius: 16px;
            border: 1px solid #e1e5e9;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
            padding: 2.5rem;
            min-height: 360px;
            scroll-snap-align: start;
            will-change: transform;
            transition: transform .25s ease, box-shadow .25s ease;
        }

        .features .mode-card:hover{
            transform: translateY(-2px) scale(1.008);
            box-shadow: 0 12px 32px rgba(0,0,0,0.12);
        }

        .features .mode-card::before{
            content:'';
            position:absolute;
            top:0;
            left:0;
            right:0;
            height:4px;
            background: var(--accent-color);
        }

        .mode-card.openai { --accent-color: #12b981; }
        .mode-card.claude { --accent-color: #3c82f6; }
        .mode-card.tests { --accent-color: #8b5cf6; }
        .mode-card.improve { --accent-color: #ec4899; }
        .mode-card.smells { --accent-color: #f59f0e; }

        .mode-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
        }

        .mode-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #2d3748;
        }

        .mode-description {
            color: #6a7280;
            line-height: 1.6;
            margin-bottom: 1rem;
            font-size: 1.05rem;
        }

        .mode-tech {
            font-size: 0.9rem;
            color: var(--accent-color);
            font-weight: 500;
        }

        .modes-arrow{
            position:absolute;
            top:50%;
            transform:translateY(-50%);
            width:44px;
            height:44px;
            border-radius:9999px;
            border:1px solid #e5e7eb;
            background:#fff;
            color:#111827;
            display:inline-flex;
            align-items:center;
            justify-content:center;
            box-shadow:0 10px 30px rgba(0,0,0,.08);
            cursor:pointer;
            z-index:5;
            transition:transform .15s ease, box-shadow .15s ease, opacity .15s ease;
            backdrop-filter: blur(4px);
        }

        .modes-arrow:hover{
            transform:translateY(-50%) scale(1.05);
        }

        .modes-arrow.left{
            left:-14px;
        }

        .modes-arrow.right{
            right:-14px;
        }

        .modes-arrow.is-disabled{
            opacity:.35;
            pointer-events:none;
        }

        /* Demo Section */
        .demo {
            background: #ffffff;
            padding: 3rem 2rem;
            margin-top: 0;
        }

        .demo-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .demo-content h2 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: #2d3748;
        }

        .demo-features {
            list-style: none;
            margin-bottom: 2rem;
        }

        .demo-features li {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .demo-features li::before {
            content: '‚úÖ';
            margin-right: 1rem;
            font-size: 1.2rem;
        }

        .demo-visual {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
            position: relative;
        }

        .demo-code {
            background: #2d3748;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            font-family: 'Fira Code', monospace;
            margin-bottom: 1rem;
            overflow-x: auto;
        }

        .demo-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .demo-chick {
            font-size: 2rem;
            animation: bounce 1.5s ease-in-out infinite;
            margin-right: 1rem;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .demo-result {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 1rem;
            border-radius: 4px;
        }

        /* Stats Section */
        .stats {
            background: #ffffff;
            padding: 5rem 2rem;
            text-align: center;
        }

        .stats-container {
            background: linear-gradient(135deg, #4a5568 0%, #2d3748 25%, #1a202c 50%, #2c1810 75%, #553c1c 100%);
            color: white;
            padding: 4rem 3rem;
            border-radius: 20px;
            margin: 0 auto;
            max-width: 1400px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .stat-item {
            padding: 1rem;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            display: block;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* Footer */
        .footer {
            background: #ffffff;
            color: #2d3748;
            padding: 3rem 2rem 1rem;
            text-align: center;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .tech-stack {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .tech-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
            color: #6a7280;
        }

        /* User Dropdown */
        .user-dropdown {
            position: relative;
        }

        .user-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: inherit;
        }

        .user-btn:hover {
            background: transparent !important;
            color: inherit;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border: 1px solid #e1e5e9;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            min-width: 150px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1100;
            pointer-events: none;
        }

        .dropdown-menu.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
            pointer-events: auto;
        }

        .dropdown-item {
            display: block;
            padding: 0.75rem 1rem;
            text-decoration: none;
            color: #2d3748;
            transition: background 0.2s ease;
        }

        .dropdown-item:hover {
            background: #f8f9fa;
        }

        .user-info {
            padding: 0.75rem 1rem;
            border-bottom: none;
        }

        .user-info strong {
            display: block;
            font-size: 0.9rem;
            color: #2d3748;
            margin-bottom: 0.25rem;
        }

        .user-info small {
            display: block;
            font-size: 0.8rem;
            color: #6a7280;
            opacity: 0.8;
        }

        .user-avatar {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 9999px;
            background: #f1f5f9;
            color: #475569;
            font-weight: 600;
            font-size: 14px;
            letter-spacing: 0.2px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            transition: all 0.15s ease;
        }

        .user-avatar:hover {
            background: #e2e8f0;
            border-color: #cbd5e1;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .user-avatar:focus-visible {
            outline: 2px solid rgba(99,102,241,0.5);
            outline-offset: 2px;
        }

        /* Fix upload fichier */
        input[type="file"] {
            pointer-events: auto !important;
            touch-action: manipulation;
            cursor: pointer;
        }

        input[type="file"]:hover {
            opacity: 1;
        }

        label[for] {
            cursor: pointer;
            pointer-events: auto;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-left {
                display: flex !important;
            }
            
            .nav-center,
            .nav-right {
                display: none;
            }

            .mobile-nav-group {
                display: flex;
                align-items: center;
                gap: 1rem;
            }

            .mobile-menu-btn {
                display: block;
                color: #2d3748;
            }

            .navbar {
                padding: 1rem 0;
            }
            
            .navbar-content {
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
            
            .nav-cta.mobile-visible {
                display: inline-block !important;
                padding: 0.5rem 1rem !important;
                font-size: 0.9rem !important;
            }

            .demo-container {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
        }

        /* Hero Responsive Styles */
        @media (min-width: 768px) {
            .hero-content-animated {
                text-align: left !important;
            }
            
            #hero-main-title {
                font-size: 64px !important;
            }
            
            #hero-cta-buttons,
            #hero-trust-indicators {
                justify-content: flex-start !important;
            }
            
            #hero-description {
                margin-left: 0 !important;
                margin-right: 0 !important;
            }
        }
        
        @media (min-width: 1024px) {
            #hero-grid {
                grid-template-columns: 1fr 1fr !important;
            }
            
            #hero-visual-section {
                display: block !important;
            }
        }
        
        @media (max-width: 640px) {
            #hero-main-title {
                font-size: 40px !important;
            }
            
            #hero-tagline {
                font-size: 20px !important;
            }
            
            #hero-description {
                font-size: 16px !important;
            }
        }

        /* Fix pour le bouton Analyser dans la navbar - VERSION FINALE */
.nav-cta {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    color: white !important;
    padding: 0.6rem 1.5rem;
    border-radius: 8px;
    font-weight: 600;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3) !important;
    transition: transform 0.2s ease !important;
    border: none !important;
}

.nav-cta:hover {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4) !important;
    color: white !important;
}

/* √âtat apr√®s scroll */
.navbar.scrolled .nav-cta {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    color: white !important;
}

.navbar.scrolled .nav-cta:hover {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4) !important;
    color: white !important;
}

/* Version mobile */
.nav-cta.mobile-visible {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    color: white !important;
    padding: 0.5rem 1rem !important;
    font-size: 0.9rem !important;
}

.nav-cta.mobile-visible:hover {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4) !important;
}

    </style>
</head>
<body>
<!-- Navbar -->
    <nav class="navbar" id="navbar">
        <div class="navbar-content">
            <!-- Version Desktop -->
            <!-- Gauche : Logo -->
            <div class="nav-left">
                <%= link_to root_path, class: "logo" do %>
                    <%= image_tag "logo.png", alt: "BugHound Logo", class: "logo-image" %>
                    <span>BugHound</span>
                <% end %>
            </div>

            <!-- Centre : Navigation -->
            <div class="nav-center">
                <a href="#features" class="nav-link">Features</a>
                <a href="#demo" class="nav-link">D√©mo</a>
                <%= link_to "Historique", analyses_path, class: "nav-link" %>
            </div>

            <!-- Droite : Boutons d'action -->
            <div class="nav-right">
                <% if user_signed_in? %>
                    <div class="user-dropdown">
                        <button
                            id="userMenuBtn"
                            class="nav-link user-btn"
                            type="button"
                            aria-haspopup="menu"
                            aria-expanded="false"
                            aria-controls="userMenu"
                            aria-label="Ouvrir le menu utilisateur">
                            <div class="user-avatar" aria-hidden="true">
                                <% if current_user.first_name.present? && current_user.last_name.present? %>
                                    <%= current_user.first_name.first.upcase %><%= current_user.last_name.first.upcase %>
                                <% else %>
                                    <%= current_user.email.split('@').first[0..1].upcase %>
                                <% end %>
                            </div>
                        </button>

                        <div id="userMenu" class="dropdown-menu" role="menu" aria-labelledby="userMenuBtn">
                            <div class="user-info" role="presentation">
                                <strong>
                                    <% if current_user.first_name.present? && current_user.last_name.present? %>
                                        <%= "#{current_user.first_name.upcase} #{current_user.last_name.upcase}" %>
                                    <% else %>
                                        <%= current_user.email.split('@').first.upcase %>
                                    <% end %>
                                </strong>
                                <small><%= current_user.email %></small>
                            </div>
                            <hr style="margin: 0.5rem 0; border: none; border-top: 1px solid #e1e5e9;">
                            <%= link_to "Se d√©connecter",
                                        destroy_user_session_path,
                                        data: { "turbo-method": :delete },
                                        class: "dropdown-item",
                                        role: "menuitem" %>
                        </div>
                    </div>
                <% else %>
                    <%= link_to "Se connecter", new_user_session_path, class: "nav-link" %>
                <% end %>

                <%= link_to new_analysis_path, class: "nav-link nav-cta" do %>
    <svg width="16" height="16" viewBox="0 0 512 512" fill="currentColor" style="margin-right: 6px;">
        <path d="M156.6 384.9L125.7 354c-8.5-8.5-11.5-20.8-7.7-32.2c3-8.9 7-20.5 11.8-33.8L24 288c-8.6 0-16.6-4.6-20.9-12.1s-4.2-16.7.2-24.1l52.5-88.5c13-21.9 36.5-35.3 61.9-35.3l82.3 0c2.4-4 4.8-7.7 7.2-11.3C289.1-4.1 411.1-8.1 483.9 5.3c11.6 2.1 20.6 11.2 22.8 22.8c13.4 72.9 9.3 194.8-111.4 276.7c-3.5 2.4-7.3 4.8-11.3 7.2v82.3c0 25.4-13.4 49-35.3 61.9l-88.5 52.5c-7.4 4.4-16.6 4.5-24.1.2s-12.1-12.2-12.1-20.9V380.8c-14.1 4.9-26.4 8.9-35.7 11.9c-11.2 3.6-23.4.5-31.8-7.8zM384 168a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"/>
    </svg>
    Analyser
<% end %>
            </div>

            <!-- Version Mobile -->
            <div class="mobile-nav-group">
                <%= link_to "Analyser", new_analysis_path, class: "nav-link nav-cta mobile-visible", style: "display: none;" %>
                <button class="mobile-menu-btn" id="mobileMenuBtn">‚ò∞</button>
            </div>
        </div>

        <!-- Menu Mobile Dropdown -->
        <div class="mobile-menu" id="mobileMenu">
            <div class="mobile-menu-links">
                <a href="#features" class="mobile-menu-link">Features</a>
                <a href="#demo" class="mobile-menu-link">D√©mo</a>
                <%= link_to "Historique", analyses_path, class: "mobile-menu-link" %>
                <% if user_signed_in? %>
                    <%= link_to "Se d√©connecter", destroy_user_session_path, 
                                data: { "turbo-method": :delete }, 
                                class: "mobile-menu-link" %>
                <% else %>
                    <%= link_to "Se connecter", new_user_session_path, class: "mobile-menu-link" %>
                <% end %>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
<section style="position: relative; min-height: 100vh; display: flex; align-items: center; padding-top: 120px; padding-bottom: 80px; overflow: hidden; background: #ffffff;">
    
    <!-- Animated Background Shapes - Version subtile -->
    <div style="position: absolute; top: 10%; left: 5%; width: 300px; height: 300px; background: rgba(102, 126, 234, 0.03); border-radius: 50%; filter: blur(60px);" class="hero-floating-shape"></div>
    <div style="position: absolute; bottom: 20%; right: 10%; width: 400px; height: 400px; background: rgba(16, 185, 129, 0.03); border-radius: 50%; filter: blur(80px);" class="hero-floating-shape"></div>
    <div style="position: absolute; top: 50%; left: 50%; width: 200px; height: 200px; background: rgba(240, 147, 251, 0.03); border-radius: 50%; filter: blur(50px); transform: translate(-50%, -50%);" class="hero-floating-shape"></div>
    
    <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px; width: 100%; position: relative; z-index: 1;">
        <div id="hero-grid" style="display: grid; grid-template-columns: 1fr; gap: 60px; align-items: center;">
                
                <!-- Left Content -->
                <div class="hero-content-animated" style="text-align: center;">
                    <!-- Badge -->
                    <div style="display: inline-flex; align-items: center; gap: 8px; padding: 8px 20px; background: rgba(102, 126, 234, 0.1); border: 1px solid rgba(102, 126, 234, 0.3); border-radius: 50px; margin-bottom: 24px; font-size: 14px; color: #667eea; font-weight: 500;">
                        <span style="width: 8px; height: 8px; background: #10b981; border-radius: 50%; animation: heroPulse 2s ease-in-out infinite;"></span>
                        Propuls√© par l'IA
                    </div>
                    
                    <!-- Main Heading -->
                    <h1 id="hero-main-title" style="font-size: 56px; font-weight: 800; line-height: 1.1; margin-bottom: 24px; color: #1a202c; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;">
                        <span style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">BugHound</span>
                    </h1>
                    
                    <!-- Tagline -->
                    <p id="hero-tagline" style="font-size: 24px; color: #4a5568; margin-bottom: 16px; font-weight: 600;">
                        L'agent QA augment√© par IA
                    </p>
                    
                    <p id="hero-description" style="font-size: 18px; color: #718096; margin-bottom: 40px; max-width: 600px; margin-left: auto; margin-right: auto; line-height: 1.6;">
                        Comprenez. Am√©liorez. Testez. Transformez votre code avec l'analyse intelligente et automatis√©e.
                    </p>
                    
                    <!-- CTA Buttons -->
                    <div id="hero-cta-buttons" style="display: flex; gap: 16px; justify-content: center; flex-wrap: wrap;">
                        <%= link_to new_analysis_path, class: "hero-btn-primary", style: "display: inline-flex; align-items: center; gap: 8px; padding: 16px 32px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-decoration: none; border-radius: 12px; font-weight: 600; font-size: 16px; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);" do %>
                            <svg width="20" height="20" viewBox="0 0 512 512" fill="currentColor">
    <path d="M156.6 384.9L125.7 354c-8.5-8.5-11.5-20.8-7.7-32.2c3-8.9 7-20.5 11.8-33.8L24 288c-8.6 0-16.6-4.6-20.9-12.1s-4.2-16.7.2-24.1l52.5-88.5c13-21.9 36.5-35.3 61.9-35.3l82.3 0c2.4-4 4.8-7.7 7.2-11.3C289.1-4.1 411.1-8.1 483.9 5.3c11.6 2.1 20.6 11.2 22.8 22.8c13.4 72.9 9.3 194.8-111.4 276.7c-3.5 2.4-7.3 4.8-11.3 7.2v82.3c0 25.4-13.4 49-35.3 61.9l-88.5 52.5c-7.4 4.4-16.6 4.5-24.1.2s-12.1-12.2-12.1-20.9V380.8c-14.1 4.9-26.4 8.9-35.7 11.9c-11.2 3.6-23.4.5-31.8-7.8zM384 168a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"/>
</svg>
                            Analyser mon code
                        <% end %>
                        
                        <a href="#demo" class="hero-btn-secondary" style="display: inline-flex; align-items: center; gap: 8px; padding: 16px 32px; background: white; color: #667eea; text-decoration: none; border-radius: 12px; font-weight: 600; font-size: 16px; border: 2px solid #667eea; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polygon points="5 3 19 12 5 21 5 3"></polygon>
                            </svg>
                            Voir la d√©mo
                        </a>
                    </div>
                    
                    <!-- Trust Indicators -->
                    <div id="hero-trust-indicators" style="margin-top: 48px; display: flex; gap: 32px; justify-content: center; flex-wrap: wrap; align-items: center; opacity: 0.7;">
                        <div style="display: flex; align-items: center; gap: 8px; color: #4a5568; font-size: 14px;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="20 6 9 17 4 12"></polyline>
                            </svg>
                            <span>Analyse en temps r√©el</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px; color: #4a5568; font-size: 14px;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                            </svg>
                            <span>S√©curis√© & priv√©</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px; color: #4a5568; font-size: 14px;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
                            </svg>
                            <span>R√©sultats instantan√©s</span>
                        </div>
                    </div>
                </div>
                
                  <!-- Right Visual (Hidden on mobile, shown on larger screens) -->
                <div class="hero-visual-animated" id="hero-visual-section" style="position: relative; display: none;">
                    <!-- Code Editor Mockup -->
                    <div class="hero-glass-card" style="border-radius: 16px; padding: 24px; position: relative; overflow: hidden;">
                        <!-- Editor Header -->
                        <div style="display: flex; gap: 8px; margin-bottom: 20px;">
                            <div style="width: 12px; height: 12px; background: #ff5f56; border-radius: 50%;"></div>
                            <div style="width: 12px; height: 12px; background: #ffbd2e; border-radius: 50%;"></div>
                            <div style="width: 12px; height: 12px; background: #27c93f; border-radius: 50%;"></div>
                        </div>
                        
                        <!-- Code Snippets -->
                        <div style="font-family: 'Monaco', 'Menlo', monospace; font-size: 14px; line-height: 1.6;">
                            <div class="hero-code-snippet" style="margin-bottom: 12px; padding: 12px; background: rgba(102, 126, 234, 0.1); border-radius: 8px; border-left: 3px solid #667eea;">
                                <div style="color: #667eea; font-weight: 600; margin-bottom: 4px;">‚úì Code Quality: 96%</div>
                                <div style="color: #718096; font-size: 12px;">No critical issues found</div>
                            </div>
                            
                            <div class="hero-code-snippet" style="margin-bottom: 12px; padding: 12px; background: rgba(16, 185, 129, 0.1); border-radius: 8px; border-left: 3px solid #10b981;">
                                <div style="color: #10b981; font-weight: 600; margin-bottom: 4px;">‚úì Security: Excellent</div>
                                <div style="color: #718096; font-size: 12px;">All vulnerabilities patched</div>
                            </div>
                            
                            <div class="hero-code-snippet" style="padding: 12px; background: rgba(59, 130, 246, 0.1); border-radius: 8px; border-left: 3px solid #3b82f6;">
                                <div style="color: #3b82f6; font-weight: 600; margin-bottom: 4px;">‚úì Performance: Optimized</div>
                                <div style="color: #718096; font-size: 12px;">Response time: 45ms</div>
                            </div>
                        </div>
                        
                        <!-- Floating Badge -->
                        <div style="position: absolute; top: -20px; right: -20px; width: 100px; height: 100px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 24px; box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3); animation: heroPulse 3s ease-in-out infinite;">
                            AI
                        </div>
                    </div>
                    
                    <!-- Floating Elements -->
                    <div style="position: absolute; top: -30px; left: -30px; padding: 16px 24px; background: white; border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); font-weight: 600; color: #1a202c; animation: heroFloat 5s ease-in-out infinite;">
                        <div style="font-size: 12px; color: #718096; margin-bottom: 4px;">Tests pass√©s</div>
                        <div style="font-size: 24px; color: #10b981;">1,247</div>
                    </div>
                    
                    <div style="position: absolute; bottom: -20px; right: -40px; padding: 16px 24px; background: white; border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); font-weight: 600; color: #1a202c; animation: heroFloat 6s ease-in-out infinite; animation-delay: 1s;">
                        <div style="font-size: 12px; color: #718096; margin-bottom: 4px;">Bugs d√©tect√©s</div>
                        <div style="font-size: 24px; color: #667eea;">23</div>
                    </div>
                </div>
                
            </div>
        </div>
    </section>
    
    <!-- Features Section -->
    <section class="features" id="features">
        <div class="container">
            <div class="features-header">
                <h2 class="section-title">5 Modes d'Analyse Intelligents</h2>
                <p class="section-subtitle">
                    Choisissez un mode pour diagnostiquer, am√©liorer et tester votre code. 
                    D√©filez pour d√©couvrir les options ‚Äî chaque carte d√©taille le b√©n√©fice et la techno utilis√©e.
                </p>
            </div>

            <!-- Wrapper du carrousel avec fl√®ches -->
            <div class="modes-scroller-wrapper">
                <button class="modes-arrow left" aria-label="Voir la carte pr√©c√©dente">
                    <svg width="18" height="18" viewBox="0 0 20 20" fill="none" aria-hidden="true">
                        <path d="M12.5 4.5L7 10l5.5 5.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>

                <!-- Piste du carrousel (d√©filement horizontal) -->
                <div id="modesTrack" class="ai-modes">
                    <div class="mode-card openai">
                        <span class="mode-icon">ü§ñ</span>
                        <h3 class="mode-title">Analyse Standard</h3>
                        <p class="mode-description">
                            Score global + d√©tails par cat√©gorie (S√©curit√©, Performance, Lisibilit√©, Tests).
                            Id√©al pour un premier diagnostic rapide.
                        </p>
                        <p class="mode-tech">Powered by OpenAI GPT-4</p>
                    </div>

                    <div class="mode-card claude">
                        <span class="mode-icon">‚ö°</span>
                        <h3 class="mode-title">Analyse Expert</h3>
                        <p class="mode-description">
                            Analyse chirurgicale avec recommandations d√©taill√©es.
                            Pour les d√©veloppeurs qui veulent aller plus loin.
                        </p>
                        <p class="mode-tech">Powered by Anthropic</p>
                    </div>

                    <div class="mode-card tests">
                        <span class="mode-icon">üìã</span>
                        <h3 class="mode-title">Tests Automatiques</h3>
                        <p class="mode-description">
                            G√©n√®re des tests unitaires complets (Jest, RSpec, pytest, JUnit).
                            Tests pr√™ts √† copier-coller !
                        </p>
                        <p class="mode-tech">Auto-d√©tection du framework</p>
                    </div>

                    <div class="mode-card improve">
                        <span class="mode-icon">‚ú®</span>
                        <h3 class="mode-title">Refactoring</h3>
                        <p class="mode-description">
                            Transforme votre code junior en code enterprise-grade.
                            Refactoring complet avec best practices.
                        </p>
                        <p class="mode-tech">Code senior instantan√©</p>
                    </div>

                    <div class="mode-card smells">
                        <span class="mode-icon">üëÉ</span>
                        <h3 class="mode-title">Code Smells</h3>
                        <p class="mode-description">
                            D√©tection p√©dagogique des mauvaises pratiques.
                            Parfait pour apprendre et progresser.
                        </p>
                        <p class="mode-tech">Diagnostic √©ducatif</p>
                    </div>
                </div>

                <button class="modes-arrow right" aria-label="Voir la carte suivante">
                    <svg width="18" height="18" viewBox="0 0 20 20" fill="none" aria-hidden="true">
                        <path d="M7.5 4.5L13 10l-5.5 5.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
        </div>
    </section>

    <!-- Demo Section -->
    <section class="demo" id="demo">
        <div class="container">
            <div class="demo-container">
                <div class="demo-content">
                    <h2>D√©mo</h2>
                    <ul class="demo-features">
                        <li>Copier-coller ou upload de fichier</li>
                        <li>Auto-d√©tection du langage</li>
                        <li>Analyse en temps r√©el</li>
                        <li>R√©sultats d√©taill√©s avec scores</li>
                        <li>Code am√©lior√© g√©n√©r√© automatiquement</li>
                    </ul>
                    <%= link_to "Essayer maintenant", new_analysis_path, class: "cta-primary" %>
                </div>

                <div class="demo-visual">
                    <div class="demo-code">
<span style="color: #bb86fc">def</span> <span style="color: #82aaff">calculate</span>(<span style="color: #ffcb6b">a</span>, <span style="color: #ffcb6b">b</span>)
  <span style="color: #ffcb6b">a</span> <span style="color: #89ddff">+</span> <span style="color: #ffcb6b">b</span> <span style="color: #89ddff">*</span> <span style="color: #f78c6c">2</span>
<span style="color: #bb86fc">end</span>
                    </div>

                    <div class="demo-loading">
                        <span class="demo-chick">üê£</span>
                        <span>Analyse Claude en cours...</span>
                    </div>

                    <div class="demo-result">
                        <strong>üìä Score global : 4/10</strong><br>
                        üîç Variables non explicites d√©tect√©es<br>
                        üß™ Tests manquants<br>
                        ‚ú® Code am√©lior√© g√©n√©r√© !
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats">
        <div class="stats-container">
            <div class="container">
                <h2 style="margin-bottom: 3rem; font-size: 2.2rem;">üìä En Quelques Chiffres</h2>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-number">10+</span>
                        <span class="stat-label">Langages support√©s</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">2</span>
                        <span class="stat-label">IA de pointe</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">5</span>
                        <span class="stat-label">Modes d'analyse</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">100%</span>
                        <span class="stat-label">Gratuit</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="tech-stack">
                <div class="tech-item">
                    <span>üíé</span> Ruby on Rails 7
                </div>
                <div class="tech-item">
                    <span>ü§ñ</span> OpenAI GPT-4
                </div>
                <div class="tech-item">
                    <span>‚ö°</span> Claude-3.5-Sonnet
                </div>
                <div class="tech-item">
                    <span>üé®</span> Modern UI/UX
                </div>
            </div>
            <p style="opacity: 0.7; margin-top: 2rem;">
                D√©velopp√© avec ‚ù§Ô∏è par une passionn√©e de code<br>
                BugHound ¬© 2025 - La r√©volution de l'analyse de code
            </p>
        </div>
    </footer>

    <script>
        // ========================================
        // SCRIPT CONSOLID√â - Version finale s√©curis√©e
        // ========================================

        class BugHoundApp {
            constructor() {
                this.controllers = new Map();
                this.init();
            }

            // Carrousel des 5 cards avec fl√®ches
            initModesCarousel() {
                const track = document.getElementById('modesTrack');
                const left  = document.querySelector('.modes-arrow.left');
                const right = document.querySelector('.modes-arrow.right');
                if (!track || !left || !right) return;

                const controller = new AbortController();
                this.controllers.set('modesCarousel', controller);
                const { signal } = controller;

                // Taille d'un "pas" = largeur d'une carte + gap
                const getStep = () => {
                    const card = track.querySelector('.mode-card');
                    if (!card) return 0;
                    const styles = getComputedStyle(track);
                    const gap = parseFloat(styles.columnGap || styles.gap) || 24;
                    return card.getBoundingClientRect().width + gap;
                };

                const updateArrows = () => {
                    const maxScroll = track.scrollWidth - track.clientWidth - 1;
                    left.classList.toggle('is-disabled', track.scrollLeft <= 0);
                    right.classList.toggle('is-disabled', track.scrollLeft >= maxScroll);
                };

                const scrollByStep = (dir) => {
                    track.scrollBy({ left: dir * getStep(), behavior: 'smooth' });
                };

                left.addEventListener('click',  () => scrollByStep(-1), { signal });
                right.addEventListener('click', () => scrollByStep(1),  { signal });
                track.addEventListener('scroll', updateArrows, { signal, passive: true });
                window.addEventListener('resize', updateArrows, { signal });

                // init
                updateArrows();
            }

            // Menu mobile
            initMobileMenu() {
                const btn = document.getElementById('mobileMenuBtn');
                const menu = document.getElementById('mobileMenu');
                if (!btn || !menu) return;

                const controller = new AbortController();
                this.controllers.set('mobileMenu', controller);
                const { signal } = controller;

                // Toggle menu
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    menu.classList.toggle('mobile-menu-open');
                }, { signal });

                // Fermer sur clic d'un lien
                menu.querySelectorAll('.mobile-menu-link').forEach(link => {
                    link.addEventListener('click', () => {
                        menu.classList.remove('mobile-menu-open');
                    }, { signal });
                });

                // Fermer sur clic ext√©rieur
                document.addEventListener('click', (e) => {
                    if (!menu.contains(e.target) && !btn.contains(e.target)) {
                        menu.classList.remove('mobile-menu-open');
                    }
                }, { signal });
            }

            init() {
                this.initNavbar();
                this.initUserMenu();
                this.initMobileMenu();
                this.initSmoothScrolling();
                this.initScrollAnimations();
                this.initModesCarousel();
            }

            // Nettoyage s√©curis√© avant cache Turbo
            cleanup() {
                this.controllers.forEach(controller => {
                    if (controller && typeof controller.abort === 'function') {
                        controller.abort();
                    }
                });
                this.controllers.clear();
            }

            // Navbar avec scroll effect
            initNavbar() {
                const navbar = document.getElementById('navbar');
                if (!navbar) return;

                const controller = new AbortController();
                this.controllers.set('navbar', controller);

                const scrollHandler = () => {
                    if (window.scrollY > 50) {
                        navbar.classList.add('scrolled');
                    } else {
                        navbar.classList.remove('scrolled');
                    }
                };

                window.addEventListener('scroll', scrollHandler, { 
                    signal: controller.signal,
                    passive: true 
                });
            }

            // Menu utilisateur - Version robuste
            initUserMenu() {
                const btn = document.getElementById("userMenuBtn");
                const menu = document.getElementById("userMenu");
                if (!btn || !menu) return;

                const controller = new AbortController();
                this.controllers.set('userMenu', controller);
                const { signal } = controller;

                // Toggle menu au clic
                btn.addEventListener("click", (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    const isOpen = menu.classList.toggle("show");
                    btn.setAttribute("aria-expanded", isOpen);
                    
                    if (isOpen) {
                        // Focus sur premier √©l√©ment
                        const firstItem = menu.querySelector('[role="menuitem"], a, button');
                        if (firstItem) firstItem.focus();
                    }
                }, { signal });

                // Fermer sur clic ext√©rieur
                document.addEventListener("click", (e) => {
                    if (!menu.contains(e.target) && !btn.contains(e.target)) {
                        menu.classList.remove("show");
                        btn.setAttribute("aria-expanded", "false");
                    }
                }, { signal });

                // Fermer sur Echap
                document.addEventListener("keydown", (e) => {
                    if (e.key === "Escape" && menu.classList.contains("show")) {
                        menu.classList.remove("show");
                        btn.setAttribute("aria-expanded", "false");
                        btn.focus();
                    }
                }, { signal });
            }

            // Smooth scrolling pour les ancres
            initSmoothScrolling() {
                const controller = new AbortController();
                this.controllers.set('smoothScroll', controller);

                document.addEventListener('click', (e) => {
                    const anchor = e.target.closest('a[href^="#"]');
                    if (!anchor) return;

                    e.preventDefault();
                    const target = document.querySelector(anchor.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                }, { signal: controller.signal });
            }

            // Animations au scroll
            initScrollAnimations() {
                const observerOptions = {
                    threshold: 0.1,
                    rootMargin: '0px 0px -50px 0px'
                };

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.style.opacity = '1';
                            entry.target.style.transform = 'translateY(0)';
                        }
                    });
                }, observerOptions);

                // N'animer que les √©l√©ments marqu√©s
                document.querySelectorAll('[data-animate]').forEach(el => {
                    el.style.opacity = '0';
                    el.style.transform = 'translateY(30px)';
                    el.style.transition = 'all 0.6s ease';
                    observer.observe(el);
                });

                // Nettoyage de l'observer
                const controller = new AbortController();
                this.controllers.set('animations', { abort: () => observer.disconnect() });
            }
        }

        // Instance globale
        let bugHoundApp;

        // Initialisation s√©curis√©e
        function initApp() {
            // Nettoie l'ancienne instance
            if (bugHoundApp) {
                bugHoundApp.cleanup();
            }
            
            // Cr√©e nouvelle instance
            bugHoundApp = new BugHoundApp();
        }

        // Events Turbo
        document.addEventListener('DOMContentLoaded', initApp);
        document.addEventListener('turbo:load', initApp);
        document.addEventListener('turbo:render', initApp);

        // Nettoyage avant mise en cache
        document.addEventListener('turbo:before-cache', () => {
            if (bugHoundApp) {
                bugHoundApp.cleanup();
                
                // Reset √©tats visuels
                const menu = document.getElementById("userMenu");
                const btn = document.getElementById("userMenuBtn");
                const mobileMenu = document.getElementById("mobileMenu");
                
                if (menu && btn) {
                    menu.classList.remove("show");
                    btn.setAttribute("aria-expanded", "false");
                }
                
                if (mobileMenu) {
                    mobileMenu.classList.remove("mobile-menu-open");
                }
            }
        });
    </script>
</body>
</html>